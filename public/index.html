<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Libre Antenne</title>
  <meta name="description"
    content="Le chaos en direct : un refuge sans filtre pour drogués, marginaux, alcooliques, gamers nocturnes et esprits libres.">
  <meta name="theme-color" content="#22c55e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Libre Antenne">
  <meta name="application-name" content="Libre Antenne">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="manifest" href="/manifest.webmanifest">
  <style>
    .speaker-card {
      opacity: 0;
      transform: translateY(12px) scale(0.98);
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .speaker-card--visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .speaker-card-avatar {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: 9999px;
      background: rgba(34, 197, 94, 0.22);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.4);
    }

    .speaker-card-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .speaker-card-initial {
      font-size: 1.1rem;
      text-transform: uppercase;
    }

    @media (prefers-reduced-motion: reduce) {
      .speaker-card {
        transition: none;
        transform: none;
      }
    }
  </style>
</head>
<body class="bg-gradient-to-b from-gray-900 to-black text-green-400 font-mono flex items-center justify-center min-h-screen p-4"
  style="font-family: 'Press Start 2P', monospace;">
  <div class="bg-gray-800/80 backdrop-blur rounded-lg shadow-xl p-8 w-full max-w-2xl text-center border border-green-500/20">
    <h1 class="text-2xl mb-6">Libre Antenne</h1>
    <p class="text-sm leading-relaxed text-green-200/80 mb-8">
      Le chaos en direct : un refuge sans filtre pour drogués, marginaux, alcooliques, gamers nocturnes et esprits libres.
    </p>
    <audio id="audio" class="w-full mb-4" controls autoplay src="https://radio.libre-antenne.xyz/stream"></audio>
    <input id="volume" type="range" min="0" max="1" step="0.01" value="1"
      class="w-full h-1 mb-6 bg-gray-700 rounded-lg accent-green-500 cursor-pointer" />
    <div class="space-x-4">
      <button id="start" class="px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded">Parler</button>
      <button id="stop" class="px-4 py-2 bg-gray-700 text-white rounded opacity-50 cursor-not-allowed" disabled>Stop</button>
    </div>

    <div class="mt-8">
      <a href="https://discord.gg/btjTZ5C" target="_blank" rel="noopener"
        class="inline-flex items-center justify-center gap-3 px-5 py-3 rounded bg-green-500/20 hover:bg-green-500/30 text-green-100 border border-green-400/50 transition-colors">
        <span class="inline-flex h-2 w-2 rounded-full bg-green-400 animate-pulse"></span>
        Rejoindre le Discord
      </a>
    </div>

    <section id="speakers-section" class="mt-10 text-left hidden">
      <h2 class="text-lg text-green-200 uppercase tracking-widest mb-4">Ils parlent en ce moment</h2>
      <div id="speakers-list" class="grid gap-4 sm:grid-cols-2"></div>
    </section>

    <div id="error-container" class="mt-6 text-left hidden">
      <h2 class="text-lg mb-2 text-red-400">Erreurs</h2>
      <div id="error-log" class="max-h-48 overflow-y-auto space-y-2"></div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
